这是一个在操作中有可能遇到的问题，也有可能遇不到，关键在于本地时区设置。
## 背景
将一份csv的数据使用import-csv工具导入IoTDB（默认参数），假如我们查询时间在2022年1月12日11点48分43秒之后的数据，只显示10条，输入的指令和输出结果如下：
```sql
IoTDB> select WROT_HubTmp from root.BHSFC.Q1.W002 where time>=2022-01-12T11:48:43.000 limit 10
+-----------------------------+------------------------------+
|                         Time|root.BHSFC.Q1.W002.WROT_HubTmp|
+-----------------------------+------------------------------+
|2022-01-12T11:48:43.000-08:00|                          19.2|
|2022-01-12T11:48:49.000-08:00|                          19.3|
|2022-01-12T11:49:02.000-08:00|                          19.2|
|2022-01-12T11:49:08.000-08:00|                          19.1|
|2022-01-12T11:49:59.000-08:00|                          19.0|
|2022-01-12T11:51:31.000-08:00|                      18.89999|
|2022-01-12T11:51:38.000-08:00|                          19.0|
|2022-01-12T11:51:54.000-08:00|                      18.89999|
|2022-01-12T11:52:42.000-08:00|                          19.0|
|2022-01-12T11:55:01.000-08:00|                      18.89999|
+-----------------------------+------------------------------+
Total line number = 10
```
## 问题
当我们查询单行时间数据，且只以时间格式而不指明时区查询，查询为空，这一行不应为空。  
输入的指令和输出结果是这样：
```sql
IoTDB> select WROT_HubTmp from root.BHSFC.Q1.W002 where time=2022-01-12T10:48:51.000
+----+------------------------------+
|Time|root.BHSFC.Q1.W002.WROT_HubTmp|
+----+------------------------------+
+----+------------------------------+
Empty set.
```
## 解决思路
IoTDB中的数据点是以时间戳保存的，查询的时候则会以当前系统默认时区来转换成对应时间。  
范围查询正常，但是单点查询不行，这个时候一般是时区出现了问题，
## 解决方法一
在查询的时间后面增加时区，使用 'show version' 命令查看 IoTDB 时区，可以看到时区为 'America/Los_Angeles'，即西八区（UTC/GMT -8.00）。查看时区的指令和输出结果如下：
```sql
IoTDB> show time_zone
Current time zone: America/Los_Angeles
```
我们只需在单点查询的时间最后增加'-08:00'，就能查询到数值了。
输入的指令和输出结果如下：
```sql
IoTDB> select WROT_HubTmp from root.BHSFC.Q1.W002 where time=2022-01-12T10:48:51.000-08:00
+-----------------------------+------------------------------+
|                         Time|root.BHSFC.Q1.W002.WROT_HubTmp|
+-----------------------------+------------------------------+
|2022-01-12T10:48:51.000-08:00|                          18.3|
+-----------------------------+------------------------------+
Total line number = 1
```
可以看到问题得以解决，但方法比较繁琐。
## 解决方法二
连接 IoTDB 服务器时，会使用服务器的默认时区作为 IoTDB 的默认时区。 
我们使用linux操作系统的 'timedatectl' 命令可以看到 'Time zone: America/Los_Angeles (PDT, -0700)'。命令和执行结果如下图：
```sql
[root@localhost sbin]# timedatectl
      Local time: Mon 2022-07-04 01:37:48 PDT
  Universal time: Mon 2022-07-04 08:37:48 UTC
        RTC time: Mon 2022-07-04 08:37:48
       Time zone: America/Los_Angeles (PDT, -0700)
```
此时发现系统的默认时区变成了America/Los_Angeles (PDT, -0700)，我们将 IoTDB 的时区改为同样的-0700即可，命令和执行结果如下：
```sql
IoTDB> set time_zone=-07:00
Time zone has set to -07:00
```
此时我们再执行单点查询就可以正确的查出数据，命令和执行结果如下：
```sql
IoTDB> select WROT_HubTmp from root.BHSFC.Q1.W002 where time=2022-01-12T11:48:51.000
+-----------------------------+------------------------------+
|                         Time|root.BHSFC.Q1.W002.WROT_HubTmp|
+-----------------------------+------------------------------+
|2022-01-12T11:48:51.000-07:00|                          18.3|
+-----------------------------+------------------------------+
Total line number = 1
```
## 总结
PST是Pacific Standard Time太平洋标准时间 (-08:00)。PDT是Pacific Daylight Time太平洋夏季时间 (-07:00)，始于每年4月的第1个周日，止于每年10月的最后一个周日。处于西八区（PST）的大部分城市都会使用夏令时。  
同样的，当操作系统的时区设置为西八区（PST）时，会自动采用夏令时 (-07:00)，但是IoTDB依然是(-08:00)，就导致了上述现象。
国内的用户出现上述问题一般为操作系统的时区设置错误，只需要时区设置为正确的东八区后重启 IoTDB 即可。